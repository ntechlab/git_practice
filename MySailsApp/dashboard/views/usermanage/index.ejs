<!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap theme -->
    <link href="/css/bootstrap-theme.min.css" rel="stylesheet">

<style>
body {
  padding-top: 70px;
  padding-bottom: 30px;
}

.theme-dropdown .dropdown-menu {
  position: static;
  display: block;
  margin-bottom: 20px;
}

.theme-showcase > p > .btn {
  margin: 5px 0;
}

.theme-showcase .navbar .container {
  width: auto;
}

</style>
<script>
  // ユーザー作成
  function openCreateUser(){
    console.log("openCreate");
    submit("/usermanage/openCreate");
  };

  // ユーザー作成
  function createUser(){
    console.log("createUser");
    submit("/usermanage/index");
  };

  // ユーザー削除
  function destroyUser(id){
    if(confirm("ユーザーを削除しますか？")){
    console.log("destroy:" + id);
    $('#target').val(id);
    submit("/usermanage/destroyUser");
    } else {
      return false;
    }
  };

  // ユーザー更新
  function openUpdateUser(id){
    console.log("openUpdateUser:"+id);
    $('#target').val(id);
    submit("/usermanage/openUpdateUser");
  }

  // 戻る
  function home(){
    console.log("home");
    submit("/dashboard/index");
  }
  
  // 戻る
  function back(){
    console.log("back");
    submit("/dashboard/index");
  }
  
  // ログアウト
  function logout(){
    console.log("logout");
    submit("/auth/logout");
  }

function submit(action){
    var form = document.forms.item(0);
    form.action = action;
    form.submit();
}

</script>

    <!-- Fixed navbar -->
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://getbootstrap.com/examples/theme/#">付箋アプリ</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a onclick="home()"><span class="glyphicon glyphicon-home"></span></a></li>
            <li class="active"><a onclick="back()"><span class="glyphicon glyphicon-circle-arrow-left"></span></a></li>
           <li class="navbar-text"><span class="glyphicon glyphicon-user">&nbsp;</span>（▲暫定　ユーザーＩＤ　<%= loginUserId %>）</li>
            <li class="navbar-right"  ><a onclick="logout()">ログアウト</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="container theme-showcase" role="main">
    <div class="panel panel-default">
  <!-- Default panel contents -->
  <div class="panel-heading">ユーザー一覧</div>
<form method="POST">
  <!-- Table -->
  <table class="table">
   <tr>
   <th>ID</th>
   <th>アカウント</th>
   <th>ユーザー名</th>
   <th>操作</th>
   </tr>
    <% for( var i in users ) {%>
    <tr id="<%= users[i].id %>">
       <td><%= users[i].id %></td>
       <td><%= users[i].username %></td>
       <td><%= users[i].nickname %></td>
       <td>
         <span class="glyphicon glyphicon-pencil " onclick="openUpdateUser(<%= users[i].id %>)"></span>&nbsp;&nbsp;
         <span class="glyphicon glyphicon-remove" onclick="destroyUser(<%= users[i].id %>)"></span> </td>
    </tr>
  <% } %>
  </table>
</div>
  <button type="submit" class="btn btn-default" onclick="openCreateUser()">新規ユーザー追加</button>
  <input type="hidden" name="target" id="target" value="" />
</form>

